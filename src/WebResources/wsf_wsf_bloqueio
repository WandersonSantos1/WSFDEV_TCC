function BloquearFormularioSeFinalizado(executionContext) {
    // 1. Pega o contexto do formul√°rio
    var formContext = executionContext.getFormContext();

    // 2. Pega o campo de Status
    // ATEN√á√ÉO: Confirme se o nome l√≥gico da sua coluna √© 'wsf_status'. 
    
    var statusField = formContext.getAttribute("wsf_status"); 
    
    // Seguran√ßa: Se o campo n√£o existir na tela, o c√≥digo para aqui.
    if (statusField == null) return; 

    // 3. Pega o valor num√©rico atual do status
    var statusValue = statusField.getValue();

    // 4. VERIFICA√á√ÉO: √â Aprovado (962500001) OU Recusado (962500002)?
    if (statusValue === 962500001 || statusValue === 962500002) { 
        
        // Loop: Passa por TODOS os controles da tela e desabilita (trava)
        formContext.ui.controls.forEach(function (control) {
            control.setDisabled(true);
        });

        // 5. Mostra um aviso amarelo no topo da tela
        formContext.ui.setFormNotification("üîí Este pedido foi finalizado (Aprovado/Recusado) e n√£o pode ser editado.", "WARNING", "aviso_bloqueio");
    }
}